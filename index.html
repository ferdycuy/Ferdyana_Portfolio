<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Ferdyana</title>

    <link rel="shortcut icon" href="assets/img/favic0n.png" type="image/x-icon">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <header class="header" id="header-component"></header>

    <main class="main">
        <div id="home-component"></div>
        <div id="about-component"></div>
        <div id="skills-component"></div>
        <div id="services-component"></div>
        <div id="contact-component"></div>
    </main>

    <footer id="footer-component" class="footer"></footer>

    <script>
        async function loadComponent(id, file) {
            try {
                const response = await fetch(`assets/components/${file}`);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.text();
                document.getElementById(id).innerHTML = data;
            } catch (error) {
                console.error(`Error loading ${file}:`, error);
            }
        }

        // Fungsi load script secara dinamis
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.body.appendChild(script);
            });
        }

        async function init() {
            // 1. Load HTML
            await loadComponent('header-component', 'header.html');
            await loadComponent('home-component', 'home.html');
            await loadComponent('about-component', 'about.html');
            await loadComponent('skills-component', 'skills.html');
            await loadComponent('services-component', 'services.html');
            await loadComponent('contact-component', 'contact.html');
            await loadComponent('footer-component', 'footer.html');

            // 2. Load Data Project
            await loadScript('assets/js/projects.js');

            // 3. Load Main JS
            await loadScript('assets/js/main.js');

            // 4. Jalankan Inisialisasi
            if (typeof initAll === "function") {
                initAll();
            }
        }

        init();
    </script>
</body>
</html>